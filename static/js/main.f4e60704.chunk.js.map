{"version":3,"sources":["location/Location.js","location/LocationInput.js","router/useQuery.js","compass/Arrow.js","media/arrow.png","media/compass.png","compass/Compass.js","media/centre.png","wrap/Wrap.js","maps/calculateBearing.js","maps/fetchCoords.js","App.js","index.js"],"names":["Location","name","lat","lng","bearing","this","LocationInput","location","i","updateName","className","class","onChange","e","target","value","toFixed","useQuery","search","useLocation","React","useMemo","URLSearchParams","Arrow","compassRadius","arrowScaleFactor","arrowHeight","arrowWidth","overlap","arrowStyle","textStyle","src","alt","height","style","Compass","locations","compass","map","Wrap","props","readLocationsFromQuery","id","onClick","addLocation","updateCoords","calculateBearing","lat1","lng1","lat2","lng2","console","log","φ1","Math","PI","φ2","λ1","λ2","y","sin","cos","x","atan2","str","a","url","promise","$","get","then","response","results","geometry","fetchCoords","App","state","locationsLoaded","setState","curr","item","j","length","concat","query","preset","JSON","parse","atob","setInitialLocations","setTimeout","names","bind","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f4e60704.chunk.js","sourcesContent":["class Location {\r\n\r\n  constructor(name, lat, lng, bearing) {\r\n    this.name = name;\r\n    this.lat = lat;\r\n    this.lng = lng;\r\n    this.bearing = bearing;\r\n  }\r\n\r\n}\r\n\r\nexport default Location;","import React from 'react';\r\n\r\nfunction LocationInput(location, i, updateName) {\r\n  return (\r\n    <div className=\"row g-3 align-items-center\">\r\n      <div class=\"col-2\">\r\n        <label className=\"col-form-label\">{(i === 0) ? \"Home\" : \"Location \" + i}</label>\r\n      </div>\r\n      <div className=\"col-4\">\r\n        <input onChange={(e) => updateName(i, e.target.value)} value={location.name} className=\"form-control\"/>\r\n      </div>\r\n      <div className=\"col-1\">\r\n        <span className=\"form-text\">\r\n          {(i === 0 ) ? null : location.bearing.toFixed(2) + '°'}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LocationInput;","import {\r\n  BrowserRouter as Router,\r\n  Link,\r\n  useLocation\r\n} from \"react-router-dom\";\r\n\r\nimport React from 'react';\r\n\r\nfunction useQuery() {\r\n  const { search } = useLocation();\r\n\r\n  return React.useMemo(() => new URLSearchParams(search), [search]);\r\n}\r\n\r\nexport default useQuery;","import arrow from '../media/arrow.png';\r\n\r\nfunction Arrow(name, compassRadius, bearing) {\r\n\r\n  let arrowOrigHeight = 1038\r\n  let arrowOrigWidth = 125\r\n  let arrowScaleFactor = (compassRadius) / arrowOrigHeight;\r\n  let arrowHeight = arrowOrigHeight * arrowScaleFactor;\r\n  let arrowWidth = arrowOrigWidth * arrowScaleFactor;\r\n  let overlap = arrowWidth / 2;\r\n  let arrowTopGap = (compassRadius - arrowHeight) + overlap\r\n  let arrowLeftGap = compassRadius - overlap;\r\n\r\n  let arrowStyle = {\r\n    \"top\": arrowTopGap,\r\n    \"left\": arrowLeftGap,\r\n    \"transform-origin\": (arrowWidth / 2) + \"px \" + (arrowHeight - overlap) + \"px\",\r\n    \"transform\": \"rotate(\" + bearing + \"deg)\"\r\n  }\r\n\r\n  let textStyle = {\r\n    \"top\": compassRadius - overlap,\r\n    \"left\": compassRadius,\r\n    \"transform-origin\": \"0% 50%\",\r\n    \"transform\": \"rotate(\" + (bearing - 90) + \"deg) translate(\" + (compassRadius + 5) + \"px, 0px)\"\r\n  }\r\n\r\n  return (\r\n      <div>\r\n        <img className=\"compass-item\" src={arrow} alt=\"\" height={arrowHeight} style={arrowStyle}></img>\r\n        <span className=\"compass-item\" style={textStyle}>{name}</span>\r\n      </div>\r\n  )\r\n\r\n}\r\n\r\nexport default Arrow;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH0AAAQOCAMAAADBp8drAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAeUExURQAAAAAAAAAAAAAAAAAAAAAAADAwAGBgAH9/AP//AKupMvgAAAAFdFJOUwAYSGD3b2upoQAAAAlwSFlzAAAywAAAMsABKGRa2wAABC5JREFUeF7tzUlyHAcQBEGKIiTx/x+WyZQ0ACSWWbpjDvS4ZFld/Mt9/bF9SF+//bnrAX399vT0MP4//GH8//iD+B/4Q/hn/AH8SzznX+Mx/zOe8s/4X9uQf8b//v7Prox/iX+v+dd4zP+Mp/yveMi/hWf823jEv4cn/Pt4wH+En85/jJ/Mf4afyn+On8hfgp/GX4afxF+Kn8Jfjp/AX4Mfzl+HH8xfix/KX48fyN+CH8bfhh/E34ofwt+OH8Dfg9/N34ffyd+L38Xfj9/BH4HfzB+D38gfhd/EH4ffwB+JX80fi1/JH41fxR+PX8GfgV/Mn4NfyJ+FX8Sfh1/An4l/yp+Lf8KfjX/In49/wBf4u3yDv8NX+Jt8h7/Bl/gvfIv/xNf4az7HX/JftiH+gv+hl/gz/0Pfu2oqnR42lU4Pm0qnh02l08Om0ulhU+n0sKl0ethUOj1sKp0eNpVOD5tKp4dNpdPDptLpYVPp9LCpdHrYVDo9bCqdHjaVTg+bSqeHTaXTw6bS6WFT6fSwqXR62FQ6PWwqnR42lU4Pm0qnh02l08Om0ulhU+n0sKl0ethUOj1sKp0eNpVOD5tKp4dNpdPDptLpYVPp9LCpdHrYVDo9bCqdHjaVTg+bSqeHTaXTw6bS6WFT6fSwqXR62FQ6PWwqnR42lU4Pm0qnh02l08Om0ulhU+n0sKl0ethUOj1sKp0eNpVOD5tKp4dNpdPDptLpYVPp9LCpdHrYVDo9bCqdHjaVTg+bSqeHTaXTw6bS6WFT6fSwqXR62FQ6PWwqnR42lU4Pm0qnh02l08Om0ulhU+n0sKl0ethUOj1sKp0eNpVOD5tKp4dNpdPDptLpYVPp9LCpdHrYVDo9bCqdHjaVTg+bSqeHTaXTw6bS6WFT6fSwqXR62FQ6PWwqnR42lU4Pm0qnh02l08Om0ulhU+n0sKl0ethUOj1sKp0eNpVOD5tKp4dNpdPDptLpYVPp9LCpdHrYVDo9bCqdHjaVTg+bSqeHTaXTw6bS6WFT6fSwqXR62FQ6PWwqnR42lU4Pm0qnh02l08Om0ulhU+n0sKl0ethUOj1sKp0eNpVOD5tKp4dNpdPDptLpYVPp9LCpdHrYVDo9bCqdHjaVTg+bSqeHTaXTw6bS6WFT6fSwqXR62FQ6PWwqnR42lU4Pm0qnh02l08Om0ulhU+n0sKl0ethUOj1sKp0eNpVOD5tKp4dNpdPDptLpYVPp9LCpdHrYVDo9bCqdHjaVTg+bSqeHTaXTw6bS6WFT6fSwqXR62FQ6PWwqnR42lU4Pm0qnh02l08Om0ulhU+n0sKl0ethUOj1sKp0eNpVOD5tKp4dNpdPDptLpYVPp9LCpdHrYVDo9bCqdHjaVTg+bSqeHTaXTw6bS6WFT6fSwqXR62FQ6PWwq/ffWHxP9UdEf09PTv6UNU2CGWCEMAAAAAElFTkSuQmCC\"","export default __webpack_public_path__ + \"static/media/compass.91929ae3.png\";","import Arrow from './Arrow.js';\r\nimport centre from '../media/centre.png';\r\nimport compass from '../media/compass.png';\r\n\r\nfunction Compass(locations) {\r\n\r\n  let compassRadius = 200\r\n\r\n  return (\r\n    <div className=\"compass-container\">\r\n      <img className=\"compass-background\" src={compass} alt=\"\" height={compassRadius  * 2}></img>\r\n      {locations.map((location, i) => (i === 0) ? null : new Arrow(location.name, compassRadius, location.bearing))}\r\n      <img className=\"compass-item\" src={centre} alt=\"\" height=\"40px\" style={{\"top\": compassRadius - 20,\"left\": compassRadius -20}}></img>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default Compass;","export default \"data:image/png;base64,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\"","import LocationInput from '../location/LocationInput.js';\r\n\r\nimport useQuery from '../router/useQuery.js';\r\n\r\nimport React from 'react';\r\n\r\nimport Compass from '../compass/Compass.js';\r\n\r\nfunction Wrap(props) {\r\n  props.readLocationsFromQuery(useQuery());\r\n  let locations = props.locations.map((location, i) => new LocationInput(location, i, props.updateName));\r\n  return (   \r\n    <div>\r\n      <header>\r\n        <div id=\"wrap\" className=\"container main\">\r\n          <div class=\"row\">\r\n            <div class=\"col\">\r\n              {new Compass(props.locations)}\r\n            </div>\r\n            <div class=\"col\">\r\n              <div className=\"form-inline\">\r\n                  {locations}\r\n                </div>\r\n                <div>\r\n                  <button onClick={props.addLocation}>Add location</button>\r\n                  <button onClick={props.updateCoords}>Update coordinates</button>\r\n                </div>\r\n              </div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Wrap;","function calculateBearing(lat1, lng1, lat2, lng2) {\r\n\r\n  console.log(lat1, lat2, lng1, lng2);\r\n\r\n  const φ1 = lat1 * Math.PI/180; // φ, λ in radians\r\n  const φ2 = lat2 * Math.PI/180;\r\n  const λ1 = lng1 * Math.PI/180;\r\n  const λ2 = lng2 * Math.PI/180;\r\n\r\n  const y = Math.sin(λ2-λ1) * Math.cos(φ2);\r\n  const x = Math.cos(φ1) * Math.sin(φ2) -\r\n            Math.sin(φ1) * Math.cos(φ2)* Math.cos(λ2-λ1);\r\n  const θ = Math.atan2(y, x);\r\n\r\n  let bearing =  (θ * 180 / Math.PI + 360) % 360\r\n\r\n  console.log(bearing)\r\n\r\n  return bearing;\r\n}\r\n\r\nexport default calculateBearing;","import $ from 'jquery';\r\n\r\nasync function fetchCoords(str) {\r\n    let url = \"https://maps.googleapis.com/maps/api/geocode\"\r\n    + \"/json\"\r\n    + \"?key=AIzaSyDdp-2TIAzcjhzB55M9fC1ViACU5dojZZw\"\r\n    + \"&address=\" + str;\r\n    const promise = $.get(url).then(response => response.results[0].geometry.location);\r\n    return await promise;\r\n  }\r\n\r\nexport default fetchCoords;","import './App.css';\nimport Location from './location/Location.js';\n\nimport Wrap from './wrap/Wrap.js'\n\nimport {\n  BrowserRouter as Router,\n  Link,\n  useLocation\n} from \"react-router-dom\";\n\nimport calculateBearing from './maps/calculateBearing.js';\nimport fetchCoords from './maps/fetchCoords.js';\n\nimport React from 'react';\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      locationsLoaded: false,\n      locations: [\n        new Location(\"Paris\", 48.8566, 2.3522, 0),\n        new Location(\"Berlin\", 52.5200, 13.4050, 62.3600),\n        new Location(\"Shanghai\", 31.2304, 121.4737, 281.04)\n      ]\n    }\n  }\n\n  async updateCoords() {\n    for (let i = 0; i < this.state.locations.length; i++) {\n      fetchCoords(this.state.locations[i].name).then(location => {\n        this.setState((curr, props) => ({ \n          locations: curr.locations.map((item, j) => i === j ? new Location(item.name, location.lat, location.lng, calculateBearing(this.state.locations[0].lat, this.state.locations[0].lng, location.lat, location.lng)) : item)\n        }))\n      })\n    }\n  }\n\n  updateName(i, str) {\n    this.setState((curr, props) => ({\n      locations: curr.locations.map((location, j) => i === j ? new Location(str, location.lat, location.lng, location.bearing) : location)\n    }))\n  }\n\n  addLocation() {\n    this.setState(curr => ({\n      locations: curr.locations.concat(new Location(\"\", 0, 0, 0))\n    }))\n  }\n\n  async readLocationsFromQuery(query) {\n    console.log('reading locations from query ' + this.state.locationsLoaded)\n    if (!this.state.locationsLoaded) {\n        let preset = query.get('preset');\n        let locations = JSON.parse(atob(preset))\n        await this.setInitialLocations(locations)\n        setTimeout(() => { this.updateCoords() }, 1000);\n    }\n  }\n  \n  async setInitialLocations(names) {\n    console.log('setting initial locations')\n    console.log(names)\n    console.log(this.state)\n    this.setState(curr => ({\n      locations: names.map(name => new Location(name, 0, 0, 0)),\n      locationsLoaded: true\n    }))\n  }\n\n  render() {\n    return (  \n      <Router>\n        <Wrap\n          locations={this.state.locations}\n          addLocation={this.addLocation.bind(this)} \n          readLocationsFromQuery={this.readLocationsFromQuery.bind(this)}\n          updateCoords={this.updateCoords.bind(this)}\n          updateName={this.updateName.bind(this)}\n        />\n      </Router>\n      );\n  }\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}